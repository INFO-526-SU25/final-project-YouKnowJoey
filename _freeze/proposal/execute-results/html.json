{
  "hash": "a8ce6ddd21fc17e1f6079a950d043ce5",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Graphically Pawsitive Vibes\"\nsubtitle: \"Proposal\"\nauthor: \n  - name: \"Isle of Dogs\"\n    affiliations:\n      - name: \"School of Information, University of Arizona\"\ndescription: \"This project will graphically depict trends, patterns, and analysis of Animal Shelter data derived from the TidyTuesday initiative. The dataset includes information about animals taken in and released from the shelter; there are variables such as intake type, outcome type, animal type, breed, age, and more. The primary goal of this project is to identify key factors that influence an animals outcome.\"\nformat:\n  html:\n    code-tools: true\n    code-overflow: wrap\n    code-line-numbers: true\n    embed-resources: true\neditor: visual\ncode-annotations: hover\nexecute:\n  warning: false\n---\n\n::: {.cell}\n\n:::\n\n\n\n\n### Dataset\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlongbeach <- tt_load(\"2025-03-04\")\nlongbeach = longbeach$longbeach\n```\n:::\n\n\n\n\nThis TidyTuesday dataset is a conglomeration of different species retrieved in Long Beach, CA. It contains 22 columns and 29,787 rows from 2021-2025, providing potential insights into rescued animals at the city's shelter. The underlying data originate from the City of Long Beach Animal Care Services Open Data portal, which publishes daily intake and outcome records for the Long Beach Animal Shelter. The data includes variables such as `intake type`, `outcome type`, `animal type`, `age`, `breed`, and `geographical jurisdiction`. We chose this dataset because it offers an opportunity to explore animal shelters and outcomes. Meaningful and relevant analysis could have direct implications for animal welfare policies and shelter resource management.\n\n### Questions\n\n1.  How do intake conditions and animal types affect the animal's outcome?\n\n    -   Hypothesis: Animals with poor intake conditions (sick or injured) will have a higher likelihood of negative outcomes (euthanasia). Certain species, such as dogs, tend to have higher adoption rates compared to others.\n\n2.  Over the years 2021–2025, how have different species and intake conditions influenced the duration from intake to adoption?\n\n    -   Hypothesis: Healthy animals will more commonly experience a shorter duration from intake to adoption.\n\n## Analysis plan\n\n### Variables\n\nThe following variables will be used in our analysis:\n\n-   `intake_condition`: The condition of the animal at the time of intake\n-   `animal_type`: The type of animal\n-   `outcome_type`: The outcome of the animal\n-   `dob`: Date of birth of the animal\n-   `days_to_outcome`: Date the animal had an outcome `outcome_date` - `income_date`: Date the animal arrived\n-   `intake_year`: Year of intake\n-   `species_group`: A simplified grouping of `animal_type` into \"Dog,\" \"Cat,\" and \"Other\"\n-   `days_to_adoption`: The number of days from intake to adoption\n\n### Cleaning\n\nWe go ahead and clean and mutate the data we know the team will need.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlongbeach_clean <- longbeach |>\n  \n  # standardize intake_condition\n  mutate(\n    intake_condition = intake_condition |>\n      str_squish()             # collapse multiple spaces\n      |> str_replace_all(\"/\", \" \")  # replace slashes with spaces\n      |> str_to_lower()             # convert to lowercase\n  ) |>\n  \n  # create a simplified species_group\n  mutate(\n    species_group = case_when(\n      animal_type == \"dog\" ~ \"Dog\",\n      animal_type == \"cat\" ~ \"Cat\",\n      TRUE ~ \"Other\"\n    ) |> \n      factor(levels = c(\"Dog\", \"Cat\", \"Other\"))\n  ) |>\n  \n  # compute age_at_intake and flag unknowns\n  mutate(\n    age_at_intake = as.numeric(intake_date - dob) / 365,\n    age_unknown   = is.na(age_at_intake)\n  ) |>\n  \n  # compute days_to_adoption\n  mutate(\n    days_to_adoption = as.integer(outcome_date - intake_date)\n  )\n```\n:::\n\n\n\n\n#### Other Species Breakdown\n\nDogs and cats account for the majority of shelter intakes, so we recode `animal_type` into a three-level factor—Dog, Cat, and Other. Because the “Other” category still comprises thousands of records, we include a descending horizontal bar chart of `animal_type`—filtered to `species_group == \"Other\"`—to show the most frequent non-dog/cat species. We order bars by count and label each directly. This helps readers understand which rabbits, birds, reptiles, and other species fall into the “Other” category before we proceed with Questions 1 and 2.\n\n#### Data Diagnostics\n\nLet's take a look at the data to see any issues:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlongbeach_clean |>\n  diagnose() |>\n  filter(variables %in% c(\"intake_condition\",\n                          \"animal_type\",\n                          \"outcome_type\",\n                          \"dob\",\n                          \"days_to_outcome\",\n                          \"intake_year\",\n                          \"species_group\",\n                          \"days_to_adoption\")) |>\n  formattable()\n```\n\n::: {.cell-output-display}\n\n<table class=\"table table-condensed\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> variables </th>\n   <th style=\"text-align:right;\"> types </th>\n   <th style=\"text-align:right;\"> missing_count </th>\n   <th style=\"text-align:right;\"> missing_percent </th>\n   <th style=\"text-align:right;\"> unique_count </th>\n   <th style=\"text-align:right;\"> unique_rate </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> animal_type </td>\n   <td style=\"text-align:right;\"> character </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.0000000 </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 0.0003357169 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> dob </td>\n   <td style=\"text-align:right;\"> Date </td>\n   <td style=\"text-align:right;\"> 3591 </td>\n   <td style=\"text-align:right;\"> 12.0555947 </td>\n   <td style=\"text-align:right;\"> 5656 </td>\n   <td style=\"text-align:right;\"> 0.1898814919 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> intake_condition </td>\n   <td style=\"text-align:right;\"> character </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.0000000 </td>\n   <td style=\"text-align:right;\"> 17 </td>\n   <td style=\"text-align:right;\"> 0.0005707188 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> outcome_type </td>\n   <td style=\"text-align:right;\"> character </td>\n   <td style=\"text-align:right;\"> 187 </td>\n   <td style=\"text-align:right;\"> 0.6277906 </td>\n   <td style=\"text-align:right;\"> 19 </td>\n   <td style=\"text-align:right;\"> 0.0006378622 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> species_group </td>\n   <td style=\"text-align:right;\"> factor </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.0000000 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.0001007151 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> days_to_adoption </td>\n   <td style=\"text-align:right;\"> integer </td>\n   <td style=\"text-align:right;\"> 177 </td>\n   <td style=\"text-align:right;\"> 0.5942190 </td>\n   <td style=\"text-align:right;\"> 360 </td>\n   <td style=\"text-align:right;\"> 0.0120858092 </td>\n  </tr>\n</tbody>\n</table>\n\n:::\n:::\n\n\n\n\n### Potential Issues\n\nDOB (date of birth) has a seemingly significant number of missing entries. Upon inspection, this seems not to be a factor in our analysis because of how data will be processed. We will need to check this number and see if the effects are meaningful.\n\n## Project Goals\n\n### 1. How do intake conditions and animal types affect the animal's outcome?\n\nWe will evaluate how `intake_condition` and `animal_type` influence the likelihood of outcomes for animals in a shelter environment. We hope to identify disparities to inform shelter strategies. For clarity and consistency, `animal_type` has been re-coded into a `species_group` category to capture generalized trends across dogs, cats, and other species. For exploratory purposes, we'll use all 19 of `outcome_type`'s unique values. Based on the `outcome_type` distribution, we've decided to mutate `outcome_type` into three categorical values of `death`, `non-death`, and `adopted`.\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](proposal_files/figure-html/outcome-type-distribution-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlongbeach_clean |>\n  mutate(outcome_category = case_when(\n    outcome_type %in% c(\"adoption\", \"foster to adopt\", \n                        \"homefirst\") ~ \"adopted\",\n    outcome_type %in% c(\"euthanasia\", \"died\", \n                        \"disposal\") ~ \"death\",\n    outcome_type %in% c(\"rescue\", \"transfer\", \n                        \"return to owner\", \"shelter, neuter, return\", \n                        \"return to rescue\", \"transport\", \n                        \"community cat\", \"return to wild habitat\", \n                        \"foster\", \"trap, neuter, release\", \n                        \"missing\", \"NA\", \n                        \"duplicate\") ~ \"non-death\",\n    TRUE ~ \"non-death\"\n  )) |>\n  count(outcome_category)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 2\n  outcome_category     n\n  <chr>            <int>\n1 adopted           6544\n2 death             6285\n3 non-death        16958\n```\n\n\n:::\n:::\n\n\n\n\nIndependent Variables:\n\n-   `intake_condition`\n\n-   `animal_type`\n\nDependent Variables:\n\n-   `outcome_type`\n\n#### Proposed Visualizations\n\nProportion of Outcomes by Animal Type: Bar plot showing the proportion of `outcome_types` to each faceted `species_group`. This will highlight which outcomes dominate each species category.\n\nDistribution of Outcomes Across Intake Condition: Bar plot showing distribution of `intake_condition` for a specific faceted `outcome_type`. This will identify which intake conditions are more likely to lead to a certain outcome.\n\n### 2. Over the years 2021–2025, how have different species and intake conditions influenced the duration from intake to adoption?\n\nWe'll mutate() a new variable `days_to_adoption` as the time difference between intake and outcome dates, then analyze its variation by `intake_year` and `outcome_type` across years. Because dogs and cats dominate the data, we collapse all other species into a three-level factor `species_group` (“Dog,” “Cat,” “Other”) for clearer comparisons.\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](proposal_files/figure-html/species-distribution-1.png){width=672}\n:::\n:::\n\n\n\n\nIndependent Variables:\n\n-   `animal_type`\n\n-   `intake_condition`\n\n-   `intake_year` (derived from `intake_date`)\n\n-   `outcome_type`\n\nDependent Variables:\n\n-   `days_to_adoption` (`computed by outcome_date` - `intake_date`)\n\n#### Proposed Visualizations\n\nTime‐Series Lines: Median `days_to_adoption` by `intake_year` (2021–2025), faceted by `species_group`.\n\nViolin Distribution: Yearly distribution of `days_to_adoption`, split by `intake_condition`\n\n## Weekly Plan of Attack\n\n| Task Name | Status | Due | Priority | Summary |\n|---------------|---------------|---------------|---------------|---------------|\n| Analysis of dataset and project decision | Complete | 2025-06-13 | High | Team found dataset, selected questions. Discussed approach and division of work |\n| Data ingestion & cleaning | Complete | 2025-06-13 | High | Load data; inspect structure; derive and clean data |\n| Q1 & Q2 plot exploration and decision | Complete | 2025-06-13 | High | Decide on plots and narrative |\n| Draft narrative & interpretation | Complete | 2025-06-20 | High | Summarize results; write narrative for both questions |\n| Finalize report & slides | Complete | 2025-06-30 | High | Refine visuals; polish text; build and rehearse presentation |\n",
    "supporting": [
      "proposal_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}