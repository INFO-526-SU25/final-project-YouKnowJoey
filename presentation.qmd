---
title: "Graphically Pawsitive Vibes"
subtitle: "INFO 526 - Summer 2025 - Final Project"
author: "Isle of Dogs: Joey Garcia & David Kyle "
title-slide-attributes:
  data-background-image: images/watercolour_sys02_img34_teacup-ocean.jpg
  data-background-size: stretch
  data-background-opacity: "0.7"
  data-slide-number: none
format:
  revealjs:
    theme:  ['data/customtheming.scss']
  
editor: visual
execute:
  echo: false
---

```{r}
#| label: load-packages
#| include: false

# Load packages here
pacman::p_load(tidymodels,
               tidyverse,
               tidytuesdayR,
               formattable,
               dlookr,
               ggplot2,
               scales,
               lubridate,
               RColorBrewer)

```

```{r}
#| label: setup
#| include: false

# Plot theme
ggplot2::theme_set(ggplot2::theme_minimal(base_size = 11))

# For better figure resolution
knitr::opts_chunk$set(
  fig.retina = 3, 
  dpi = 300, 
  fig.width = 6, 
  fig.asp = 0.618 
  )
```

```{r}
#| label: load-data
#| include: false

# Load data here
longbeach <- tt_load("2025-03-04")
longbeach = longbeach$longbeach

data(mtcars)
mtcars$speed <- mtcars$hp / mtcars$wt
```

# Introduction - "Pawsome" Animal Shelter Data

We want ALL animals adopted!

## About Animal Shelter Data

- Source: Long Beach, CA Animal Care Services Open Data Portal

- Dataset: TidyTuesday (Week of 2025-03-04)

- Records: 29,787 animal intakes and outcomes (2021–2025)

- Key Fields: Intake/Outcome Dates, Intake Condition, Animal Type, Outcome Type, Date of Birth, Geolocation

## Our Questions

1. How do intake conditions and animal types affect the animal's outcome?

2. How Have Adoption Volumes and Timelines Evolved (2017–2024) Across Dogs, Cats, and Other Species?

## Data Wrangle
Comments: ""
```{r}
#| label: data-wrangle-clean
#| echo: FALSE

longbeach_clean <- longbeach |>
  
  # standardize intake_condition
  mutate(
    intake_condition = intake_condition |>
      str_squish()             # collapse multiple spaces
      |> str_replace_all("/", " ")  # replace slashes with spaces
      |> str_to_lower()             # convert to lowercase
  ) |>
  
  # create a simplified species_group
  mutate(
    species_group = case_when(
      animal_type == "dog" ~ "Dog",
      animal_type == "cat" ~ "Cat",
      TRUE ~ "Other"
    ) |> 
      factor(levels = c("Dog", "Cat", "Other"))
  ) |>
  
  # compute age_at_intake and flag unknowns
  mutate(
    age_at_intake = as.numeric(intake_date - dob) / 365,
    age_unknown   = is.na(age_at_intake)
  ) |>
  
  # compute days_to_adoption
  mutate(
    days_to_adoption = as.integer(outcome_date - intake_date)
  )

longbeach_clean |>
  count(animal_type, species_group, sort = TRUE) |>
  ggplot(aes(x = n, y = reorder(animal_type, n), fill = species_group)) +
    geom_col() +
    geom_text(aes(label = n),
              hjust = -0.1,
              size = 3) +
    scale_x_continuous(
      expand = expansion(mult = c(0, 0.05)),
      labels = scales::comma_format()
    ) +
    labs(
      title = "Animal Intakes by Type (Dog, Cat, Other)",
      subtitle = "Shelter intakes, 2017–2024",
      x = "Number of Intakes",
      y  = "Animal Type",
      fill = "Species Group",
      caption = "Source: City of Long Beach Animal Care Services (TidyTuesday 2025-03-04)"
    ) +
    scale_fill_discrete(
      breaks = c("Cat", "Dog", "Other")
    ) +
    theme_minimal() +
    theme(
      plot.title.position = "plot",
      plot.title = element_text(face = "bold", hjust = 0.1, size = 12),
      plot.subtitle = element_text(hjust = 0.07, size = 10),
      axis.text = element_text(size = 10),
      plot.caption = element_text(margin = margin(t = 13)),
      legend.position = "inside",
      legend.position.inside = c(0.9, 0.5),
      legend.background = element_rect(fill = "white")
    )

```

# Question 1

## Plots

# Question 2

## Plots

# Takeaways and Conclusions

# Cited Work

## Quarto

-   The presentation is created using the Quarto CLI

-   `##` sets the start of a new slide

## Layouts

You can use plain text

::::: columns
::: {.column width="40%"}
-   or bullet points[^1]
:::

::: {.column width="60%"}
or in two columns
:::
:::::

[^1]: And add footnotes

-   like

-   this

## Code

```{r, echo=FALSE}
model <- lm(mpg ~ speed, data = mtcars) 

model |> tidy()

model |> glance()

```

## Plots

```{r}
penguins |>
  mutate(species = ifelse(species == "Adelie", "Adelie", "Other")) |>
  ggplot(aes(x = flipper_length_mm, y = body_mass_g, color = species)) +
  geom_point()
```

## Plot and text

::::: columns
::: {.column width="50%"}
-   Some text

-   goes here
:::

::: {.column width="50%"}
```{r, warning=FALSE, fig.width=5.5}
penguins |>
  ggplot(aes(x = bill_length_mm, y = species, color = species)) +
  geom_boxplot(linewidth = 0.75,
               outlier.size = 2.5) +
  theme_minimal(base_size = 15) +
  theme(legend.key.size = unit(0.8, "cm"))
```
:::
:::::

# A new section...

## Tables

If you want to generate a table, make sure it is in the HTML format (instead of Markdown or other formats), e.g.,

```{r}
penguins |> 
  head() |>
  kableExtra::kable() |>
  kableExtra::kable_styling()
```

## Images

![Image credit: Danielle Navarro, Percolate.](images/watercolour_sys02_img34_teacup-ocean.png){fig-align="center" width="500"}

## Math Expressions {.smaller}

You can write LaTeX math expressions inside a pair of dollar signs, e.g. \$\\alpha+\\beta\$ renders $\alpha + \beta$. You can use the display style with double dollar signs:

```         
$$\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i$$
```

$$
\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i
$$

Limitations:

1.  The source code of a LaTeX math expression must be in one line, unless it is inside a pair of double dollar signs, in which case the starting `$$` must appear in the very beginning of a line, followed immediately by a non-space character, and the ending `$$` must be at the end of a line, led by a non-space character;

2.  There should not be spaces after the opening `$` or before the closing `$`.

# Wrap up

## Feeling adventurous?

-   You are welcomed to use the default styling of the slides. In fact, that's what I expect majority of you will do. You will differentiate yourself with the content of your presentation.

-   But some of you might want to play around with slide styling. Some solutions for this can be found at https://quarto.org/docs/presentations/revealjs.
